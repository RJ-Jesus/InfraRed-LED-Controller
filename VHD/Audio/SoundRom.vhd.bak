library IEEE;
use IEEE.STD_LOGIC_1164.all;
--use IEEE.NUMERIC_STD.all;

entity SoundRom is
  port(iClk   : in std_logic;
       iRst   : in std_logic;
       iEn    : in std_logic;
       oDataL : out std_logic_vector(15 downto 0);
       oDataR : out std_logic_vector(15 downto 0));
end SoundRom;

architecture RTL of SoundRom is
  constant ArraySize : natural := 16;
  type TROM is array(0 to ArraySize-1) of std_logic_vector(15 downto 0);
  constant SoundL : TROM := (0,  12539,  23170,  30273,  32767,  30273,  23170,  12539, 0, -12539, -23170, -30273, -32767, -30273, -23170, -12539);
  constant SoundR : TROM := (0,  12539,  23170,  30273,  32767,  30273,  23170,  12539, 0, -12539, -23170, -30273, -32767, -30273, -23170, -12539);
  signal Counter : natural := 0;
begin
  process(iClk)
  begin
    if(rising_edge(iClk)) then
      if(iRst = '1') then
        Counter <= 0;
      elsif(iEn = '1') then
        if(Counter < ArraySize) then
          Counter <= Counter + 1;
        else
          Counter <= 0;
        end if;
      end if;
    end if;
  end process;
  oDataL <= SoundL(Counter);
  oDataR <= SoundR(Counter);
end RTL;